<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>กรอกข้อมูลการประเมินการฝึกงานของนิสิตสำหรับอาจารย์</title>
  <meta name="theme-color" content="hsl(24.3, 97.4%, 54.3%)">
  <link href="../image/devgoallogo.png" size="48x48" rel="shortcut icon"  type="image/png"/>
  <link rel="stylesheet" href="../stylecss/style_user.css">
  <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/htmlincludejs"></script>
  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.js"></script>
  <script type="text/javascript" src="../js/load.js"></script> 
  <style>
    p{
      margin-left: 7px;
      display: flex;
    }
    #submitform{
      top: 50%;
    }
  </style>
</head>

<body>
  <main>
        <!-- loader -->
        <div class="ring">DEVGOAL<span class="loading"></span></div>    
        <!-- import navbarและsidebarเข้ามา -->
        <nav class="navbar navbar-expand d-flex flex-column " id="sidebar">
          <include src="sidebar_teacher.html"></include>
        </nav>
        <include src="navbar_teacher.html"></include>

  <!-- เนื้อหา -->
  <section class="p-4 my-container">
      <button class="btn" id="menu-btn"><i class="fa-solid fa-list"></i></button>
      <div class="card-container">
        <div class="card">
          <div class="card-header"><h4>กรอกข้อมูลการประเมินการฝึกงานของนิสิตสำหรับอาจารย์</h4></div>
          <div class="card-body">
            <div class="row text-center g-5">
              <div class="col-lg-6 col-md-6 col-sm-6"><p>เกณฑ์</p>
                <select class="form-select form-select-lg" name="rule" id="rulename">
                  <option value="1">การเขียนโค้ดเป็นลำดับ</option>
                  <option value="2">การออกแบบ</option>
                  <option value="3">เทคนิคการเขียนโค้ด</option>
                </select>
            </div>
              <div class="col-lg-6 col-md-6 col-sm-4"><p>คะแนนที่ได้</p>
                <div class="input-group input-group-lg">
                  <input type="number" class="form-control" placeholder="ใส่คะแนน" id="point">
                  <span class="input-group-text">คะแนน</span>
                  <button class="btn btn-primary" id="submitform" onclick="addSkillDatatable()" >เพิ่มผลการประเมิน</button>
                </div>
              </div>
              </div>
              </div>
              <table id="datatable_language" class="table table-striped text-center ">
                <thead class="table-success">
                  <tr>
                    <th>ลำดับ</th>
                    <th>เกณฑ์</th>
                    <th>คะแนนที่ได้</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="data_language">
                </tbody>
              </table>
              <div class="col-lg-12 col-md-12 col-sm-12 d-flex justify-content-end">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#info" onclick="modalform()">ส่งการประเมินไปยังนิสิต / นักศึกษา</button>
              </div>
              
            </div>
          </div>
          
          <div class="modal fade" id="info">
            <div class="modal-dialog modal-xl modal-dialog-centered modal-fullscreen-lg-down">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">เลือกสถานที่ฝึกงานของนิสิต / นักศึกษาเพื่อทำการประเมิน</h5>
                  <button class="btn-close" data-bs-toggle="modal"></button>
                </div>
                <div class="modal-body ">
                  <div class="card">
                    <div class="card-header">                    
                   <select name="student_list" class="form-select w-50" id="student_list">
                    <option value="0">บริษัท A</option>
                    <option value="1">บริษัท B</option>
                    <option value="2">บริษัท C</option>
                    <option value="3">บริษัท D</option>
                   </select>
                    </div>
                    <div class="card-body">
                      <table id="datatable_form" class="table p-3 mb-5 rounded text-center">
                        <thead >
                          <tr>
                            <th>รายชื่อเกณฑ์</th>
                            <th>รูปแบบการเพิ่มข้อมูล</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody id="data_form_modal"></tbody>
                    </table>
                        </div>
                      </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary">ส่งการประเมินไปยังนิสิต</button>
                </div>
              </div>
            </div>
          </div>
  </section>
</main>
<!-- bootstrap js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js" integrity="sha384-5h4UG+6GOuV9qXh6HqOLwZMY4mnLPraeTrjT5v07o347pj6IkfuoASuGBhfDsp3d" crossorigin="anonymous"></script>
<!-- เปิดปิดsidebar -->
<script type="text/javascript" src="../js/sidebar.js"></script>
</body>
<script>
var i = 1
function addSkillDatatable() {
	var point = document.getElementById("point").value
	 
	var e = document.getElementById("rulename");
	var rulename = e.options[e.selectedIndex].text;
	
	if(point != '' && rulename != '') {
		
		  var newRow = document.createElement("tr")
		  var newCell0 = document.createElement("td")
	    var newCell1 = document.createElement("td")
	    var newCell2 = document.createElement("td")
	    var newCell3 = document.createElement("td")
	    
	    newCell0.innerHTML = i++
      newCell1.innerHTML = rulename
	    newCell2.innerHTML = point
	    newCell3.innerHTML = "<button class='btn btn-danger'>ลบ</button>"
	    
	    newRow.append(newCell0)
	    newRow.append(newCell1)
	    newRow.append(newCell2)
	    newRow.append(newCell3)
	    document.getElementById("data_language").appendChild(newRow)
	    
	    document.getElementById("point").value = ''
	    document.getElementById("rulename").value = ''

      if(point != '' && rulename != '') {
      var newRow = document.createElement("tr")
		  var newCell0 = document.createElement("td")
	    var newCell1 = document.createElement("td")
	    
	    newCell0.innerHTML = rulename
	    newCell1.innerHTML = point
	    
	    newRow.append(newCell0)
	    newRow.append(newCell1)
	    document.getElementById("data_form_modal").appendChild(newRow)
      }
      
	} else {
		Swal.fire({
      title:'กรุณากรอกข้อมูลเกณฑ์หรือคะแนนให้ถูกต้อง',
      icon:'warning',
    })
	}
	
}
$(document).on('click', '.btn-danger', function () {
    $(this).closest('tr').remove();
    return false;
});

</script>
</html>